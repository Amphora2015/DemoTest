<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <!--config sections-->
  <configSections>
   <section name="log4net" type="System.Configuration.IgnoreSectionHandler" /> 
   <!--<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net"/>-->
  </configSections> 
  <!--logging set up-->
  <log4net>
    <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="VaultUploaderLog.log" />
      <param name="AppendToFile" value="true" />
      <param name="MaxSizeRollBackups" value="2" />
      <param name="MaximumFileSize" value="10MB" />
      <param name="RollingStyle" value="Size" />
      <param name="StaticLogFileName" value="true" />
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="%date  [%thread] %logger %message%newline" />
      </layout>
    </appender>
    
    <appender name="DebugAppender" type="log4net.Appender.DebugAppender">
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level - %message%newline" />
      </layout>
    </appender>
    
    <appender name="ColoredConsoleAppender" type="log4net.Appender.ColoredConsoleAppender">
      <mapping>
        <level value="ERROR" />
        <foreColor value="Red, HighIntensity" />
      </mapping>
      <mapping>
        <level value="WARN" />
        <foreColor value="Red" />
      </mapping>
      <mapping>
        <level value="DEBUG" />
        <backColor value="Cyan" />
      </mapping>
      <mapping>
        <level value="INFO" />
        <foreColor value="Green" />
      </mapping>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level [%logger] (%thread) %message%newline" />
      </layout>
    </appender>
    
    <root>
      <level value="DEBUG"/>
      <appender-ref ref="RollingLogFileAppender" />   
      <appender-ref ref="ColoredConsoleAppender" />   
    </root>  
  </log4net>
  <!--service end point set up-->
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="BasicHttpBinding_VaultSvc" closeTimeout="00:20:00"
                openTimeout="00:20:00" receiveTimeout="00:20:00" sendTimeout="00:20:00"
                maxBufferSize="2147483647" maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647"
                messageEncoding="Text" textEncoding="utf-8" transferMode="Streamed">
              <readerQuotas maxDepth="32" maxStringContentLength="2147483647" maxArrayLength="2147483647"
                 maxBytesPerRead="4096" maxNameTableCharCount="16384" />
        </binding>
      </basicHttpBinding>
    </bindings>
    <client>
      <endpoint address="http://localhost:11111/VaultService" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_VaultSvc" contract="VaultServiceReference.VaultSvc"
                     name="BasicHttpBinding_VaultSvc" />
    </client>
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <!-- To avoid disclosing metadata information, set the values below to false before deployment -->
          <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true"/>
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="true"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>
  <!--app level settings like connection strings and others-->
  <appSettings>
    <add key="DBConnectionString" value="Server=CNF01INFDBS01\SQLSVR11;Database=cnf_mgr;integrated security=sspi;"/>
    <add key="RouterServiceURL" value="http://localhost:11000"/>
    <add key="ScanInterval" value="10000"/><!--in milli seconds-->
  </appSettings> 
</configuration>